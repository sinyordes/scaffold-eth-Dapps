{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/batuhansen/Desktop/eth/challenge-1-decentralized-staking/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/batuhansen/Desktop/eth/challenge-1-decentralized-staking/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/batuhansen/Desktop/eth/challenge-1-decentralized-staking/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Input,Tooltip}from\"antd\";import React,{useState,useEffect}from\"react\";import Blockies from\"react-blockies\";import{SendOutlined}from\"@ant-design/icons\";import{Transactor}from\"../helpers\";import Wallet from\"./Wallet\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _require=require(\"ethers\"),utils=_require.utils;// improved a bit by converting address to ens if it exists\n// added option to directly input ens name\n// added placeholder option\n/**\r\n  ~ What it does? ~\r\n\r\n  Displays a local faucet to send ETH to given address, also wallet is provided\r\n\r\n  ~ How can I use? ~\r\n\r\n  <Faucet\r\n    price={price}\r\n    localProvider={localProvider}\r\n    ensProvider={mainnetProvider}\r\n    placeholder={\"Send local faucet\"}\r\n  />\r\n\r\n  ~ Features ~\r\n\r\n  - Provide price={price} of ether and convert between USD and ETH in a wallet\r\n  - Provide localProvider={localProvider} to be able to send ETH to given address\r\n  - Provide ensProvider={mainnetProvider} and your address will be replaced by ENS name\r\n              (ex. \"0xa870\" => \"user.eth\") or you can enter directly ENS name instead of address\r\n              works both in input field & wallet\r\n  - Provide placeholder=\"Send local faucet\" value for the input\r\n**/export default function Faucet(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),address=_useState2[0],setAddress=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),faucetAddress=_useState4[0],setFaucetAddress=_useState4[1];var price=props.price,placeholder=props.placeholder,localProvider=props.localProvider,ensProvider=props.ensProvider;useEffect(function(){var getFaucetAddress=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _faucetAddress;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!localProvider){_context.next=5;break;}_context.next=3;return localProvider.listAccounts();case 3:_faucetAddress=_context.sent;setFaucetAddress(_faucetAddress[0]);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getFaucetAddress(){return _ref.apply(this,arguments);};}();getFaucetAddress();},[localProvider]);var blockie;if(address&&typeof address.toLowerCase===\"function\"){blockie=/*#__PURE__*/_jsx(Blockies,{seed:address.toLowerCase(),size:8,scale:4});}else{blockie=/*#__PURE__*/_jsx(\"div\",{});}var updateAddress=function updateAddress(newValue){if(typeof newValue!==\"undefined\"&&utils.isAddress(newValue)){setAddress(newValue);}};var tx=Transactor(localProvider);return/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Input,{size:\"large\",placeholder:placeholder?placeholder:\"local faucet\",prefix:blockie,value:address,onChange:function onChange(e){return updateAddress(e.target.value);},suffix:/*#__PURE__*/_jsxs(Tooltip,{title:\"Faucet: Send local ether to an address.\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){tx({to:address,value:utils.parseEther(\"1.5\")});setAddress(\"\");},shape:\"circle\",icon:/*#__PURE__*/_jsx(SendOutlined,{})}),/*#__PURE__*/_jsx(Wallet,{color:\"#888888\",provider:localProvider,ensProvider:ensProvider,price:price,address:faucetAddress})]})})});}","map":{"version":3,"sources":["C:/Users/batuhansen/Desktop/eth/challenge-1-decentralized-staking/packages/react-app/src/components/Faucet.jsx"],"names":["Button","Input","Tooltip","React","useState","useEffect","Blockies","SendOutlined","Transactor","Wallet","require","utils","Faucet","props","address","setAddress","faucetAddress","setFaucetAddress","price","placeholder","localProvider","ensProvider","getFaucetAddress","listAccounts","_faucetAddress","blockie","toLowerCase","updateAddress","newValue","isAddress","tx","e","target","value","to","parseEther"],"mappings":"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","sourcesContent":["import { Button, Input, Tooltip } from \"antd\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Blockies from \"react-blockies\";\r\nimport { SendOutlined } from \"@ant-design/icons\";\r\nimport { Transactor } from \"../helpers\";\r\nimport Wallet from \"./Wallet\";\r\n\r\nconst { utils } = require(\"ethers\");\r\n\r\n// improved a bit by converting address to ens if it exists\r\n// added option to directly input ens name\r\n// added placeholder option\r\n\r\n/**\r\n  ~ What it does? ~\r\n\r\n  Displays a local faucet to send ETH to given address, also wallet is provided\r\n\r\n  ~ How can I use? ~\r\n\r\n  <Faucet\r\n    price={price}\r\n    localProvider={localProvider}\r\n    ensProvider={mainnetProvider}\r\n    placeholder={\"Send local faucet\"}\r\n  />\r\n\r\n  ~ Features ~\r\n\r\n  - Provide price={price} of ether and convert between USD and ETH in a wallet\r\n  - Provide localProvider={localProvider} to be able to send ETH to given address\r\n  - Provide ensProvider={mainnetProvider} and your address will be replaced by ENS name\r\n              (ex. \"0xa870\" => \"user.eth\") or you can enter directly ENS name instead of address\r\n              works both in input field & wallet\r\n  - Provide placeholder=\"Send local faucet\" value for the input\r\n**/\r\n\r\nexport default function Faucet(props) {\r\n  const [address, setAddress] = useState();\r\n  const [faucetAddress, setFaucetAddress] = useState();\r\n\r\n  const { price, placeholder, localProvider, ensProvider } = props;\r\n\r\n  useEffect(() => {\r\n    const getFaucetAddress = async () => {\r\n      if (localProvider) {\r\n        const _faucetAddress = await localProvider.listAccounts();\r\n        setFaucetAddress(_faucetAddress[0]);\r\n      }\r\n    };\r\n    getFaucetAddress();\r\n  }, [localProvider]);\r\n\r\n  let blockie;\r\n  if (address && typeof address.toLowerCase === \"function\") {\r\n    blockie = <Blockies seed={address.toLowerCase()} size={8} scale={4} />;\r\n  } else {\r\n    blockie = <div />;\r\n  }\r\n\r\n  const updateAddress = newValue => {\r\n    if (typeof newValue !== \"undefined\" && utils.isAddress(newValue)) {\r\n      setAddress(newValue);\r\n    }\r\n  };\r\n\r\n  const tx = Transactor(localProvider);\r\n\r\n  return (\r\n    <span>\r\n      <Input\r\n        size=\"large\"\r\n        placeholder={placeholder ? placeholder : \"local faucet\"}\r\n        prefix={blockie}\r\n        value={address}\r\n        onChange={e => updateAddress(e.target.value)}\r\n        suffix={\r\n          <Tooltip title=\"Faucet: Send local ether to an address.\">\r\n            <Button\r\n              onClick={() => {\r\n                tx({\r\n                  to: address,\r\n                  value: utils.parseEther(\"1.5\"),\r\n                });\r\n                setAddress(\"\");\r\n              }}\r\n              shape=\"circle\"\r\n              icon={<SendOutlined />}\r\n            />\r\n            <Wallet\r\n              color=\"#888888\"\r\n              provider={localProvider}\r\n              ensProvider={ensProvider}\r\n              price={price}\r\n              address={faucetAddress}\r\n            />\r\n          </Tooltip>\r\n        }\r\n      />\r\n    </span>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}